<h1 mat-dialog-title class="dialog-title">Những mặt hàng đã được thay đổi</h1>
<div mat-dialog-content>
  <table mat-table [dataSource]="filteredProducts" class="mat-elevation-z8">
    <ng-container matColumnDef="Image">
      <th mat-header-cell *matHeaderCellDef> Hình ảnh </th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{ 'highlight': element.Master }">
        <img [src]="element.Image" alt="Product Image" width="35" height="55">
      </td>
    </ng-container>

    <ng-container matColumnDef="Code">
      <th mat-header-cell *matHeaderCellDef> Mã hàng </th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{ 'highlight': element.Master }"> {{element.Code}} 
           <span *ngIf="element.Master===true" style="color: red;font-size: 20px;">*</span>
      </td>
      
    </ng-container>

    <ng-container matColumnDef="FullName">
      <th mat-header-cell *matHeaderCellDef> Tên hàng </th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{ 'highlight': element.Master }">
        {{element.FullName}}
        <span *ngIf="element.Master===true" style="color: red;font-size: 20px;">*</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="BasePrice">
      <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Giá bán mới </th>
      <td mat-cell *matCellDef="let element" [ngClass]="getBasePriceClassHighlight(element.BasePrice, element.OldBasePrice,element.Master)"
        style="text-align: right;padding: 5px;"> {{element.BasePrice| number:'1.0-0'}}
        <mat-icon *ngIf="element.BasePrice > element.OldBasePrice"
          style="vertical-align: middle; color: green;margin-bottom:15px">arrow_drop_up</mat-icon>
        <mat-icon *ngIf="element.BasePrice < element.OldBasePrice"
          style="vertical-align: middle; color: red;margin-bottom:15px">arrow_drop_down</mat-icon>
        <span *ngIf="element.BasePrice !== element.OldBasePrice" style="margin-left: -20px; font-size: 7px">{{
          (element.BasePrice - element.OldBasePrice) | number:'1.0-0' }}</span>

      </td>
    </ng-container>
    <ng-container matColumnDef="OldBasePrice">
      <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Giá bán cũ </th>
      <td mat-cell *matCellDef="let element" [ngClass]="{ 'highlight': element.Master }" style="text-align: right;"> {{element.OldBasePrice| number:'1.0-0'}} </td>
    </ng-container>

    <ng-container matColumnDef="Cost">
      <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Giá vốn mới </th>
      <td mat-cell *matCellDef="let element" [ngClass]="getCostClassHighlight(element.Cost, element.OldCost,element.Master)"
        style="text-align: right;padding: 5px;">
        {{ element.Cost | number:'1.0-0'}}
        <mat-icon *ngIf="element.Cost > element.OldCost"
          style="vertical-align: middle; color: red;margin-bottom:15px">arrow_drop_up</mat-icon>
        <mat-icon *ngIf="element.Cost < element.OldCost"
          style="vertical-align: middle; color: green;margin-bottom:15px">arrow_drop_down</mat-icon>
        <span *ngIf="element.Cost !== element.OldCost" style="margin-left: -20px; font-size: 7px">{{ (element.Cost -
          element.OldCost) | number:'1.0-0' }}</span>

      </td>
    </ng-container>

    <ng-container matColumnDef="OldCost">
      <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Giá vốn cũ </th>
      <td mat-cell *matCellDef="let element" [ngClass]="{ 'highlight': element.Master }" style="text-align: right;"> {{element.OldCost| number:'1.0-0'}} </td>
    </ng-container>

    <ng-container matColumnDef="OnHand">
      <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Tồn kho </th>
      <td mat-cell  *matCellDef="let element"  [ngClass]="{ 'highlight': element.Master }" style="text-align: right;"> {{element.OnHand| number:'1.3-3'}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
<div mat-dialog-actions>
  <button mat-button class='send-data-to-kiotviet' (click)="sendDataClick()">Gửi Dữ liệu đến KiotViet</button>
</div>